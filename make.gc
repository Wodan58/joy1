# makefile for Joy 

CC = gcc
CFLAGS = -DGC_BDW -Ibdwgc/include -O3 -Wall -Wextra -Werror

HDRS = globals.h
OBJS = interp.o scan.o utils.o main.o

joy:	$(OBJS) bdwgc/libgcmt-lib.a
	$(CC) -o$@ $(OBJS) -Lbdwgc -lgcmt-lib -lm -pthread

$(OBJS):$(HDRS)

bdwgc/libgcmt-lib.a:
	cd bdwgc; $(MAKE)
