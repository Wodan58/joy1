# makefile for Joy 

HDRS  =  globals.h
SRCS  =  interp.c  scan.c  utils.c  main.c
OBJS  =  interp.o  scan.o  utils.o  main.o
CC = gcc
CFLAGS = -DDEBUG -DGC_BDW -D_C_SOURCE=1 -Ibdwgc/include -Wall -Wextra -Werror -g -ansi -pedantic

joy:	$(OBJS) bdwgc/gc-lib.a
	$(CC) -o$@ $(OBJS) -Lgc -lgc-lib -lm

$(OBJS):$(HDRS)

bdwgc/gc-lib.a:
	cd bdwgc; $(MAKE)
